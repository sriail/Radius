---
import Layout from "@layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";

import type { ImageMetadata } from "astro";
const images = import.meta.glob<{ default: ImageMetadata }>(
    "/src/assets/images/general/*.{jpeg,jpg,png,gif,webp}"
);
---

<Layout>
    <div class="flex flex-col md:flex-row gap-4 items-center justify-center h-full w-full">
        <Image src={images["/src/assets/images/general/kitty.gif"]()} width={300} height={300} class="rounded-md" alt="Kitty 404" />
        <div class="rounded-lg border border-(--border) bg-(--card) text-(--card-foreground) shadow-sm flex flex-col items-center justify-center p-8">
            <div class="text-2xl font-semibold mb-4 flex flex-col items-center justify-center">
                <Icon name="lucide:shield-x" class="w-14 h-14 text-(--destructive)" />
                <h2 class="mt-2 text-3xl font-semibold">About: 404</h2>
            </div>
            <div class="pt-0 mb-4 text-center max-w-md">
                <p class="text-(--muted-foreground) mb-2">
                    This is the about page for 404 errors.
                </p>
                <p class="text-(--foreground) font-medium">
                    Error 404: Page Not Found
                </p>
            </div>
            <div class="flex flex-col gap-3 w-full text-sm mb-6 max-w-md">
                <p class="text-(--foreground)"><strong>Common Causes:</strong></p>
                <ul class="list-disc list-inside text-(--muted-foreground) space-y-1 ml-2">
                    <li>The page you're looking for doesn't exist</li>
                    <li>The URL might be mistyped</li>
                    <li>The page may have been moved or deleted</li>
                </ul>
            </div>
            <div class="flex gap-3 pt-0">
                <a href="/" class="bg-(--primary) h-10 rounded-lg text-sm font-medium px-4 py-2 text-(--primary-foreground) cursor-pointer inline-flex items-center justify-center hover:bg-(--primary)/90">
                    Go Home
                </a>
                <a href="/404" class="border border-(--border) h-10 rounded-lg text-sm font-medium px-4 py-2 text-(--foreground) cursor-pointer inline-flex items-center justify-center hover:bg-(--accent)">
                    See Actual 404
                </a>
            </div>
        </div>
    </div>
</Layout>

<script>
    // Break out of iframe if loaded within one
    if (window.self !== window.top) {
        window.top!.location.href = window.location.href;
    }
</script>
